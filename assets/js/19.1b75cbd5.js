(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{421:function(s,a,e){"use strict";e.r(a);var t=e(2),r=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"},[s._v("说明")]),a("p",[s._v("记录一些在使用Oracle数据库过程中遇到的问题")])]),s._v(" "),a("h2",{attrs:{id:"_1-jdbc连接oracle数据库使用sid和service-name的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-jdbc连接oracle数据库使用sid和service-name的区别"}},[s._v("#")]),s._v(" 1. jdbc连接oracle数据库使用sid和service_name的区别")]),s._v(" "),a("h3",{attrs:{id:"_1-1-service-name-和sid的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-service-name-和sid的区别"}},[s._v("#")]),s._v(" 1.1 service_name 和sid的区别：")]),s._v(" "),a("p",[a("strong",[s._v("service_name")]),s._v("：该参数是由oracle8i引进的。在8i以前，使用SID来表示标识数据库的一个实例，但是在Oracle的并行环境中，一个数据库对应多个实例，这样就需要多个网络服务名，设置繁琐。为了方便并行环境中的设置，引进了Service_name参数，该参数对应一个数据库，而不是一个实例，而且该参数有许多其它的好处。该参数的缺省值为Db_name. Db_domain，即等于Global_name。一个数据库可以对应多个Service_name，以便实现更灵活的配置。该参数与SID没有直接关系，即不必Service name 必须与SID一样 。")]),s._v(" "),a("p",[a("strong",[s._v("sid")]),s._v("：是数据库实例的名字，每个实例各不相同。")]),s._v(" "),a("h3",{attrs:{id:"_1-2-链接格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-链接格式"}},[s._v("#")]),s._v(" 1.2 链接格式")]),s._v(" "),a("h4",{attrs:{id:"格式一-oracle-jdbc-thin-using-a-servicename"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#格式一-oracle-jdbc-thin-using-a-servicename"}},[s._v("#")]),s._v(" 格式一: Oracle JDBC Thin using a ServiceName:")]),s._v(" "),a("p",[a("strong",[s._v("jdbc:oracle:thin:@//😕")])]),s._v(" "),a("p",[s._v("Example:"),a("code",[s._v("jdbc:oracle:thin:@//192.168.2.1:1521/XE")])]),s._v(" "),a("p",[s._v("注意这里的格式，@后面有//, 这是与使用SID的主要区别。")]),s._v(" "),a("p",[s._v("这种格式是Oracle 推荐的格式，因为对于集群来说，每个节点的SID 是不一样的，但是SERVICE_NAME 确可以包含所有节点。")]),s._v(" "),a("h3",{attrs:{id:"格式二-oracle-jdbc-thin-using-an-sid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#格式二-oracle-jdbc-thin-using-an-sid"}},[s._v("#")]),s._v(" 格式二: Oracle JDBC Thin using an SID:")]),s._v(" "),a("p",[a("strong",[s._v("jdbc:oracle:thin:@::")])]),s._v(" "),a("p",[s._v("Example: "),a("code",[s._v("jdbc:oracle:thin:@192.168.2.1:1521:X01A")])]),s._v(" "),a("p",[a("em",[s._v("Note:")])]),s._v(" "),a("p",[a("em",[s._v("Support for SID is being phased out. Oracle recommends that users switch over to usingservice names.")])]),s._v(" "),a("h3",{attrs:{id:"格式三-oracle-jdbc-thin-using-a-tnsname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#格式三-oracle-jdbc-thin-using-a-tnsname"}},[s._v("#")]),s._v(" 格式三：Oracle JDBC Thin using a TNSName:")]),s._v(" "),a("p",[a("strong",[s._v("jdbc:oracle:thin:@")])]),s._v(" "),a("p",[s._v("Example:  "),a("code",[s._v("jdbc:oracle:thin:@GL")])]),s._v(" "),a("p",[a("em",[s._v("Note:")])]),s._v(" "),a("p",[a("em",[s._v("Support for TNSNames was added in the driver release 10.2.0.1")])]),s._v(" "),a("h2",{attrs:{id:"_2-oracle-执行语句时卡死、锁"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-oracle-执行语句时卡死、锁"}},[s._v("#")]),s._v(" 2. Oracle 执行语句时卡死、锁")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" v$locked_object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" dba_objects obj "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OBJECT_ID"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6509")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("serial")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#,ao.OBJECT_NAME,s.username,s.status,s.MACHINE")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" v$locked_object lo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" dba_objects ao"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" v$"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("session")]),s._v(" s \n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" ao"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("object_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" lo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("object_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" lo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("session_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" system "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("session")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'134,175'")]),s._v("IMMEDIATE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);