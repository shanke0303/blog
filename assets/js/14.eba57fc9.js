(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{416:function(a,t,s){"use strict";s.r(t);var e=s(2),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"_1-下载datax"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载datax"}},[a._v("#")]),a._v(" 1.下载DataX")]),a._v(" "),t("blockquote",[t("p",[a._v("DataX Github：https://github.com/alibaba/DataX")])]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone https://github.com/alibaba/DataX.git\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h2",{attrs:{id:"_2-从idea打开"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-从idea打开"}},[a._v("#")]),a._v(" 2.从Idea打开")]),a._v(" "),t("h2",{attrs:{id:"_3-修改pom-xml-可选"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-修改pom-xml-可选"}},[a._v("#")]),a._v(" 3.修改pom.xml[可选]")]),a._v(" "),t("p",[a._v("根目录目录下的文件"),t("code",[a._v("pom.xml")]),a._v(" ，把"),t("code",[a._v("<modules>")]),a._v("标签下原本不需要的reader 和 writer 注释掉。")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/shanke0303/store/raw/master/blogimg/image-20210309152021333.png",alt:"image-20210309152021333"}})]),a._v(" "),t("h2",{attrs:{id:"_4-开发一个reader-writer同理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-开发一个reader-writer同理"}},[a._v("#")]),a._v(" 4.开发一个reader（writer同理）")]),a._v(" "),t("p",[a._v("新建一个模块，DataX目录右键："),t("code",[a._v("New > Module...")]),a._v("。")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/shanke0303/store/raw/master/blogimg/image-20210309153158696.png",alt:"image-20210309153158696"}})]),a._v(" "),t("p",[a._v("左侧指定Maven。")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/shanke0303/store/raw/master/blogimg/image-20210309152657187.png",alt:"image-20210309152657187"}})]),a._v(" "),t("p",[a._v("输入名称。注意：位置在"),t("code",[a._v("/DataX")]),a._v("下面。")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/shanke0303/store/raw/master/blogimg/image-20210309154224176.png",alt:"image-20210309154224176"}})]),a._v(" "),t("p",[a._v("从其它reader模块复制一个pom.xml覆盖到自己的模块下。")]),a._v(" "),t("ul",[t("li",[a._v("修改"),t("code",[a._v("<artifactId>")]),a._v("和"),t("code",[a._v("<name>")]),a._v("。")]),a._v(" "),t("li",[t("code",[a._v("<dependencies>")]),a._v("中删除不需要的依赖，添加自己要用的依赖。")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/shanke0303/store/raw/master/blogimg/image-20210309154113512.png",alt:"image-20210309154113512"}})]),a._v(" "),t("p",[a._v("从其它reader模块main目录下复制一份assembly(包含子文件package.xml)到自己的模块main目录下。")]),a._v(" "),t("ul",[t("li",[a._v("相关的路径名称修改为自己的。")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/shanke0303/store/raw/master/blogimg/image-20210309155251884.png",alt:"image-20210309155251884"}})]),a._v(" "),t("p",[a._v("编写自己的reader，也可以从其它模块复制修改。")]),a._v(" "),t("blockquote",[t("p",[a._v("DataX插件开发官方文档：https://github.com/alibaba/DataX/blob/master/dataxPluginDev.md")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/shanke0303/store/raw/master/blogimg/image-20210309155931955.png",alt:"image-20210309155931955"}})]),a._v(" "),t("p",[a._v("从其它reader模块resource目录下复制"),t("code",[a._v("plugin.json")]),a._v("和"),t("code",[a._v("plugin_job_template.json")]),a._v("到自己模块中，并按自己的情况修改。")]),a._v(" "),t("ul",[t("li",[a._v("plugin.json，告诉DataX如何找到你的插件。")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/shanke0303/store/raw/master/blogimg/image-20210309160345527.png",alt:"image-20210309160345527"}})]),a._v(" "),t("ul",[t("li",[a._v("plugin_job_template.json，生成作业配置模板时使用。运行"),t("code",[a._v("datax.py -r <reader name> -w <writer name>")]),a._v("会根据这个文件生成作业配置模板。")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/shanke0303/store/raw/master/blogimg/image-20210309160707181.png",alt:"image-20210309160707181"}})]),a._v(" "),t("h2",{attrs:{id:"_5-打包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-打包"}},[a._v("#")]),a._v(" 5.打包")]),a._v(" "),t("p",[a._v("根目录目录下的文件"),t("code",[a._v("package.xml")]),a._v(" ，把"),t("code",[a._v("<fileSets>")]),a._v("标签下原本不需要的reader 和 writer 注释掉。把自己的木块添加进去。")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/shanke0303/store/raw/master/blogimg/image-20210309161405347.png",alt:"image-20210309161405347"}})]),a._v(" "),t("p",[a._v("点开右侧边栏Maven，禁用test，点击package。")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/shanke0303/store/raw/master/blogimg/image-20210309162557480.png",alt:"image-20210309162557480"}})]),a._v(" "),t("p",[a._v("在模块target/data下可以找的打包好的插件。")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/shanke0303/store/raw/master/blogimg/image-20210309162641460.png",alt:"image-20210309162641460"}})]),a._v(" "),t("h2",{attrs:{id:"_6-常见问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-常见问题"}},[a._v("#")]),a._v(" 6.常见问题")]),a._v(" "),t("h4",{attrs:{id:"问题1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问题1"}},[a._v("#")]),a._v(" 问题1.")]),a._v(" "),t("p",[a._v("运行"),t("code",[a._v("data.py job.json")]),a._v("，出现错误："),t("code",[a._v("[<path to datax>/plugin/reader/.DS_Store/plugin.json]不存在")]),a._v("。")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2021")]),a._v("-03-10 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("16")]),a._v(":25:10.460 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" WARN  ConfigParser - 插件"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("linetxtreader,mysqlwriter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("加载失败，1s后重试"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(". Exception:Code:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Common-00"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(", Describe:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("您提供的配置文件存在错误信息，请检查您的作业配置 ."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" - 配置信息错误，您提供的配置文件"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("/Users/shanke/Documents/WORK/tools/datax/plugin/reader/.DS_Store/plugin.json"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("不存在. 请检查您的配置文件. \n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2021")]),a._v("-03-10 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("16")]),a._v(":25:11.470 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" ERROR Engine - \n\n经DataX智能分析,该任务最可能的错误原因是:\ncom.alibaba.datax.common.exception.DataXException: Code:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Common-00"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(", Describe:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("您提供的配置文件存在错误信息，请检查您的作业配置 ."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" - 配置信息错误，您提供的配置文件"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("/Users/shanke/Documents/WORK/tools/datax/plugin/reader/.DS_Store/plugin.json"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("不存在. 请检查您的配置文件.\n\tat com.alibaba.datax.common.exception.DataXException.asDataXException"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("DataXException.java:26"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat com.alibaba.datax.common.util.Configuration.from"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Configuration.java:95"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat com.alibaba.datax.core.util.ConfigParser.parseOnePluginConfig"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ConfigParser.java:153"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat com.alibaba.datax.core.util.ConfigParser.parsePluginConfig"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ConfigParser.java:125"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat com.alibaba.datax.core.util.ConfigParser.parse"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ConfigParser.java:63"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat com.alibaba.datax.core.Engine.entry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Engine.java:137"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat com.alibaba.datax.core.Engine.main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Engine.java:204"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br")])]),t("p",[t("strong",[a._v("解决：")])]),a._v(" "),t("ul",[t("li",[a._v("mac系统会自动生成一个.DS_Store的系统文件，不可见。而datax默认plugin/reader中都是文件夹，没有做操作系统这种层面的差异处理。所以需要手动把错误路径下的.DS_Store文件删除即可。")])]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" datax\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" ./ -name "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'.DS_Store'")]),a._v(" -print0 "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("xargs")]),a._v(" -0 "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" -fr\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);